{% spaceless %}
{% load i18n %}
<ol class="submission__answer__display__content">
    {% for part in answer.parts %}
        <li class="submission__answer__part">
            <div class="submission__answer__part__text">
                <h5 class="submission__answer__part__text__title">{% trans "The question for this section" %}</h5>
            </div>
            <article class="submission__answer__part__prompt">
                <div class="submission__answer__part__prompt__value" id="submission__question__part__description__{{ forloop.counter }}_div">
                    {{ part.prompt.description|linebreaks }}
                </div>
            </article>
            <div class="submission__answer__part__text">
                <h5 class="submission__answer__part__text__title lbl-answer-text">{{ answer_text_label }}</h5>
                <div class="submission__answer__part__text__value" id="submission__answer__part__description__{{ forloop.counter }}_div">
                    {% if part.prompt.prompt_type == 'html-control' %}
                    <div class="oa-table-container">
                        {{ part.text|safe }}
                    </div>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            var submission_div_id = "#submission__answer__part__description__{{ forloop.counter }}_div";
                            $(submission_div_id).initORATableCheckbox('checkbox-input', true);
                            $(submission_div_id).oaTable();
                        });
                    </script>
                    {% else %}
                    {{ part.text|linebreaks }}
                    {% endif %}
                </div>
            </div>
        </li>
    {% endfor %}
</ol>
{% endspaceless %}
